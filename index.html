<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
    <title>冬日礼物</title>
    <style>
        body {
            margin: 0;
            padding: 0;
            width: 100vw;
            height: 100vh;
            background-color: #1a1a2e;
            overflow: hidden;
        }
        .snowflake {
            position: absolute;
            color: #ffffff;
            font-size: 1.2rem;
            pointer-events: none;
            animation: snowFall linear infinite;
        }
        @keyframes snowFall {
            0% {
                transform: translateY(-10vh) rotate(0deg);
                opacity: 0.8;
            }
            100% {
                transform: translateY(110vh) rotate(360deg);
                opacity: 0;
            }
        }
    </style>
</head>
<body>
    <!-- 音频路径已改为 baby.M4A（匹配大写后缀） -->
    <audio id="bgm" src="baby.M4A" preload="auto"></audio>

    <script>
        window.onload = function() {
            if (confirm("送你一份冬日礼物")) {
                if (confirm("我喜欢你，胡宏钰")) {
                    const bgm = document.getElementById('bgm');
                    bgm.play().catch(() => {
                        alert("请点击页面任意位置播放音乐~");
                        document.body.addEventListener('click', () => bgm.play(), { once: true });
                    });
                    startSnow();
                }
            }
        };

        function startSnow() {
            const snowNum = 80;
            const body = document.body;
            for (let i = 0; i < snowNum; i++) {
                const snow = document.createElement('div');
                snow.classList.add('snowflake');
                snow.textContent = '❄';
                const size = Math.random() * 12 + 8;
                const leftPos = Math.random() * 100;
                const fallTime = Math.random() * 12 + 6;
                const delayTime = Math.random() * 5;
                snow.style.fontSize = `${size}px`;
                snow.style.left = `${leftPos}vw`;
                snow.style.animationDuration = `${fallTime}s`;
                snow.style.animationDelay = `${delayTime}s`;
                body.appendChild(snow);
            }
        }
    </script>
</body>
</html>